(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{227:function(t,e,r){"use strict";var n=r(2),o=(r(26),r(238).a.create({baseURL:"http://localhost:8000/api/products",headers:{"Content-Type":"application/json"}})),c=function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.get("/"));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),d=function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.get("/".concat(e)));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.post("/",e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.put("/".concat(e),r));case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),v=function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.delete("/".concat(e)));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.get("/search",{params:{q:e}}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.put("/".concat(e,"/rating"),{rating:r}));case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}();e.a={getAllProducts:c,getProductById:d,createProduct:l,updateProduct:m,deleteProduct:v,searchProducts:f,updateProductRating:h}},228:function(t,e,r){var content=r(231);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(23).default)("4b3fa217",content,!0,{sourceMap:!1})},230:function(t,e,r){"use strict";r(228)},231:function(t,e,r){var n=r(22)((function(i){return i[1]}));n.push([t.i,".detail[data-v-6d782676]{display:-webkit-box;display:-ms-flexbox;display:flex;margin:1.25rem;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;--tw-shadow:0 25px 50px -12px rgba(0,0,0,.25);--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color);-webkit-box-shadow:0 0 transparent,0 0 transparent,0 25px 50px -12px rgba(0,0,0,.25);box-shadow:0 0 transparent,0 0 transparent,0 25px 50px -12px rgba(0,0,0,.25);-webkit-box-shadow:var(--tw-ring-offset-shadow,0 0 transparent),var(--tw-ring-shadow,0 0 transparent),var(--tw-shadow);box-shadow:var(--tw-ring-offset-shadow,0 0 transparent),var(--tw-ring-shadow,0 0 transparent),var(--tw-shadow)}@media (min-width:1024px){.detail[data-v-6d782676]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}}.detail .img-wrapper[data-v-6d782676]{-webkit-box-flex:1;-ms-flex:1;flex:1}@media (min-width:1024px){.detail .img-wrapper img[data-v-6d782676]{border-radius:0;border-bottom-left-radius:1rem;border-top-left-radius:1rem}}.detail .text-wrapper[data-v-6d782676]{-webkit-box-flex:2;-ms-flex:2;flex:2}",""]),n.locals={},t.exports=n},232:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r(27);function n(t,e){var r=e.trim().toLowerCase();return r.length?t.filter((function(t){return t.title.toLowerCase().indexOf(r)>-1})):t}},234:function(t,e,r){"use strict";r(49),r(27);var n=r(2),o=(r(26),r(227)),c={name:"products",props:["detail"],data:function(){return{products:[],addToCartLabel:"Add to cart",removeFromCartLabel:"Remove from cart",addToFavouriteLabel:"Add to favourite",removeFromFavouriteLabel:"Remove from favourite",selected:1,quantityArray:[]}},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.getAllProducts();case 3:r=e.sent,t.products=r.data,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Erreur lors de la récupération des produits :",e.t0);case 10:for(i=1;i<=20;i++)t.quantityArray.push(i);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()},methods:{addToCart:function(t){var data={id:t,status:!0};this.$store.commit("addToCart",t),this.$store.commit("setAddedBtn",data)},removeFromCart:function(t){var data={id:t,status:!1};this.$store.commit("removeFromCart",t),this.$store.commit("setAddedBtn",data)},saveToFavorite:function(t){this.$store.state.userInfo.isLoggedIn?this.$store.commit("addToFavourite",t):this.$store.commit("showLoginModal",!0)},removeFromFavourite:function(t){this.$store.commit("removeFromFavourite",t)},onSelectQuantity:function(t){var data={id:t,quantity:this.selected};this.$store.commit("quantity",data)},getImageUrl:function(t){return"http://localhost:8000/".concat(t)}}},d=(r(230),r(11)),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",t._l(t.products,(function(r){return e("div",{key:r.id,staticClass:"rounded-2xl shadow-custom bg-white p-4",class:[t.detail?"detail":""]},[e("div",{staticClass:"img-wrapper rounded-t-2xl"},[e("nuxt-link",{attrs:{to:{name:"product_detail-id",params:{id:r.id}}}},[r.image_url?e("img",{staticClass:"rounded-2xl",attrs:{src:t.getImageUrl(r.image_url),alt:"Image du produit"}}):t._e()])],1),t._v(" "),e("div",{staticClass:"text-wrapper p-4"},[e("div",{staticClass:"flex items-center justify-between mb-3"},[e("div",{staticClass:"media-content"},[e("nuxt-link",{attrs:{to:{name:"product_detail-id",params:{id:r.id}}}},[e("span",{staticClass:"font-medium",class:[t.detail?"text-3xl":"text-lg"]},[t._v(t._s(r.product_name))])])],1),t._v(" "),e("button",{directives:[{name:"show",rawName:"v-show",value:r.isFavourite,expression:"product.isFavourite"}],staticClass:"button text-lg",attrs:{title:t.removeFromFavouriteLabel},on:{click:function(e){return t.removeFromFavourite(r.id)}}},[t._m(0,!0)]),t._v(" "),e("button",{directives:[{name:"show",rawName:"v-show",value:!r.isFavourite,expression:"!product.isFavourite"}],staticClass:"button text-lg",attrs:{title:t.addToFavouriteLabel},on:{click:function(e){return t.saveToFavorite(r.id)}}},[t._m(1,!0)])]),t._v(" "),e("div",{staticClass:"content is-clearfix"},[e("p",{class:[t.detail?"text-2xl":"text-base"]},[t._v(t._s(r.description))]),t._v(" "),e("div",{staticClass:"flex justify-between"},[e("div",{staticClass:"flex items-center"},[t._l(Math.round(r.ratings),(function(t){return e("i",{key:"stars-".concat(t),staticClass:"fa fa-star text-gold"})})),t._v(" "),e("p",{staticClass:"ml-2 text-lg"},[t._v(t._s(r.reviews>0?"".concat(r.reviews," Reviews"):"No reviews"))])],2),t._v(" "),e("p",{staticClass:"text-3xl font-medium"},[e("strong",[t._v(t._s(r.price)+" Ar")])])]),t._v(" "),e("div",{staticClass:"flex justify-between mt-5 items-center"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"p-2 border-2 rounded-2xl",on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selected=e.target.multiple?r:r[0]},function(e){return t.onSelectQuantity(r.id)}]}},t._l(t.quantityArray,(function(r){return e("option",{key:r,domProps:{value:r}},[t._v("\n              "+t._s(r)+"\n            ")])})),0),t._v(" "),r.isAddedToCart?t._e():e("button",{staticClass:"rounded-xl p-3 bg-blue text-white",on:{click:function(e){return t.addToCart(r.id)}}},[t._v("\n            "+t._s(t.addToCartLabel)+"\n          ")]),t._v(" "),r.isAddedToCart?e("button",{staticClass:"rounded-xl p-3",on:{click:function(e){return t.removeFromCart(r.id)}}},[t._v("\n            "+t._s(t.removeFromCartLabel)+"\n          ")]):t._e()])])])])})),0)}),[function(){var t=this._self._c;return t("span",{staticClass:"icon"},[t("i",{staticClass:"fas fa-heart text-red"})])},function(){var t=this._self._c;return t("span",{staticClass:"icon"},[t("i",{staticClass:"far fa-heart text-red"})])}],!1,null,"6d782676",null);e.a=component.exports},246:function(t,e,r){"use strict";r.r(e);var n=r(234),o=r(232),c={name:"user-wishlist",data:function(){return{pageTitle:"Your Wishlist",noProductLabel:"Your wishlist is empty"}},components:{VmProductsList:n.a},computed:{productsInWishlist:function(){return this.$store.state.userInfo.hasSearched?this.getProductByTitle():this.$store.getters.productsAddedToFavourite}},methods:{getProductByTitle:function(){var t=this.$store,e=t.getters.productsAddedToFavourite,r=t.state.userInfo.productTitleSearched;return this.productsFiltered=Object(o.a)(e,r)}}},d=r(11),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"p-5"},[e("h3",{staticClass:"text-2xl mb-4"},[t._v(t._s(t.pageTitle))]),t._v(" "),e("div",{staticClass:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},[t._l(t.productsInWishlist,(function(t){return e("div",{key:t.id},[e("VmProductsList",{attrs:{product:t}})],1)})),t._v(" "),0===t.productsInWishlist.length?e("div",{staticClass:"section"},[e("p",[t._v(t._s(t.noProductLabel))])]):t._e()],2)])}),[],!1,null,null,null);e.default=component.exports}}]);